%!TEX encoding = UTF-8 Unicode
%!TEX root = ../lect-week07.tex

%%%


\begin{Slide}{TODO: Begrepp att förklara}
  Tänk igenom ordningen:
  \begin{itemize}
    \item OO, arv, supertyp, subtyp, bastyp, polymorfism, ... 
  \end{itemize}
\end{Slide}


\begin{Slide}{Medlemmar och arv}\footnotesize
Vid arv kan man ersätta en medlem \Eng{\code{override} a member}, så att en medlem i en subtyp får sin egen speciella skepnad.

\begin{multicols}{2}
Olika sorters medlemmar i \Emph{Scala}:
\begin{itemize}
\item \code{def}
\item \code{val}
\item \code{lazy val}
\item \code{var}
%\item \code{type}

\end{itemize}

\columnbreak

Olika sorters medlemmar i \Emph{Java}:
\begin{itemize}
\item variabel 
\item metod
\end{itemize}

\vspace{1em}

Variabler kan vara instansvariabler eller klassvariabler (nyckelord \jcode{static})

\end{multicols}

\pause

\noindent
\fbox{\parbox[b][4em][c]{1.0\textwidth}{När man konstruerar ett objektorienterat språk gäller det att man definierar \Emph{sunda regler för arv}, som bestämmer hur en medlem kan ersättas.} }

\end{Slide}


\begin{Slide}{Regler för \texttt{override} i Scala.} \fontsize{8}{11}\selectfont
\label{slideW05:overriderules}
En medlem M1 i en supertyp får ersättas av en medlem M2 i en subtyp, givet reglerna:
\begin{enumerate}
\item M1 och M2 ska ha samma namn och typerna ska matcha.
\item \code{def} får bytas ut mot: \code{def}, \code{val}, \code{var}, \code{lazy val}
\item \code{val} får bytas ut mot: \code{val}, och om M1 är abstrakt mot en \code{lazy val}.
\item \code{var} får bara bytas ut mot en \code{var}.
\item \code{lazy val} får bara bytas ut mot en \code{lazy val}.
\item Om en medlem i en supertyp är abstrakt \emph{behöver} man inte använda nyckelordet \code{override} i subtypen. (Men det är bra att göra det ändå så att kompilatorn kollar att man verkligen byter ut något.) 
\item Om en medlem i en supertyp är konkret \emph{måste} man använda nyckelordet \code{override} i subtypen, annars ges kompileringsfel.
\item M1 får inte vara \code{final}.
\item M1 får inte vara \code{private} eller \code{private[this]}, men kan vara \code{private[X]} om M2 också är \code{private[X]}, eller \code{private[Y]} om X innehåller Y.   
\item Om M1 är \code{protected} måste även M2 vara det.

\end{enumerate}
\end{Slide}



\begin{Slide}{Designexempel: Klassen ???}\small
TODO:
  \begin{itemize} 
  \item 
  \end{itemize}
\end{Slide}










