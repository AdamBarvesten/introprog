%!TEX encoding = UTF-8 Unicode

%!TEX root = ../compendium.tex

\Exercise{\ExeWeekFIVE}

\begin{Goals}
\item 
\end{Goals}

\begin{Preparations}
\item 
\end{Preparations}

\BasicTasks %%%%%%%%%%%%%%%%

\Task Föränderliga, intexerbara sekvenser:

\Subtask Samlingen \emph{scala.Array} har speciellt stöd i JVM och är extra snabb att allokera och indexera i. Dock kan man inte ändra storleken efter att en Array allokerats. Vill man det måste man kopiera den till en ny, större array.

\Subtask Samlingen \emph{scala.collection.mutable.ArrayBuffer} är inte riktigt lika snabb i alla lägen som Array men man kan ändra storlek. Om man stegvis vill förändra en sekvens kan man använda en ArrayBuffer.

\Task \emph{Kopiering och uppdatering.} Metoder på oföränderliga samlingar skapar nya samlingar istället för att ändra. Därför behöver man inte själv skapa kopior.

\begin{REPL}
scala> val xs = Vector(1, 2, 3)
scala> val ys = xs.toArray
scala> ys(1) = 42
scala> xs
scala> ys
scala> val zs = ys.toArray
scala> zs(1) = 84
scala> xs
scala> ys
scala> zs
\end{REPL}

\Subtask Påverkas \code{xs} av updateringen av ys ovan? Varför?

\Subtask Påverkas \code{ys} av uppdateringen av \code{zs} ovan? Varför? 

\Subtask Påverkas \code{xs} av uppdateringen av \code{zs} ovan? Varför? 

\Task \emph{Skapa kopior av föränderliga samlingar.} Om man inte vill att en uppdatering av en föränderlig samling ska få en påverkan på andra koddelar som refererar till samlingen, kan man behöva göra explicita kopior. Det finns färdiga metoder för detta

\Subtask\Pen Rita en bild av hur minnet ser ut efter varje tilldelning. Vad har \code{xs}, \code{ys} och \code{zs} efter exekveringen av nedan rader? Varför? 
\begin{REPL}
scala> val xs = Array(1, 2, 3, 4)
scala> val ys = xs
scala> val zs = java.util.Arrays.copy(xs, xs.size - 1)
sxala> xs(0) = 42
scala> zs(0) = 84
scala> ys
scala> xs
scala> zs
\end{REPL}







\Task Keno-dragningar under ett år -> Registrering...

\ExtraTasks %%%%%%%%%%%%%%%%%%%

\Task 

\AdvancedTasks %%%%%%%%%%%%%%%%%

\Task     
    